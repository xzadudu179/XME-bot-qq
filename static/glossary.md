# 术语表 & XME-Deon-Bot (漠月) 使用文档

<!-- > 目前还 (几乎) 没有任何内容 -->

## 注意事项

---

### 提醒

- 请 **一定不要** 以及 **尽量避免** 让 bot 以任何形式输出敏感/违规字符，很容易导致 bot 被永久冻结！

  如果有任何形式导致 bot 因为用户输入的违规行为被封禁，一旦发现会 **追究责任** 且 **记录用户 qq 账号。**

- 该 bot 还在 **早期开发阶段**，很多功能很可能会变化很大。

- 默认权限暂为 **在群聊内**。

---

### 关于指令

> 关于指令详情参见[指令术语](glossary?id=%e6%8c%87%e4%bb%a4)

- XME-Bot 的指令默认以 `/`、`!`、 `！`、 `.` 中任意一个的字符开头，在开头字符前 **@ 机器人**或输入类似 `xme,` 之类可被解析为**呼叫机器人**的语句时，会被判定为 `to_me` 也就是**呼叫机器人**。
- 在帮助的指令参数相关里，`<>` 括起来的参数代表[可选参数](glossary?id=可选参数)， `()` 括起来的参数代表[必要参数](glossary?id=必要参数)， `[]` 括起来的参数代表[类 Shell 参数](glossary?id=类-shell-参数)。

---

#### 指令格式

- 在指令列表中，指令格式为：

  **指令名**

  - **作用**

    关于指令是干什么用的。

  - **用法**

    关于指令的具体使用语法，例如：
    ``` Text
    /指令名 (必选参数) <可选参数> [类Shell参数]
    ```

  - **权限/可用范围**

    关于指令所需的[权限](glossary?id=权限)。若没有则为 `无`。若有会写出具体条件，需要符合条件才可调用指令。

  - **频率/时间限制**

    关于指令的频率与时间限制，例如一天只能调用一次之类的。

    该项说明为可选项，只有拥有限制的才会说明。

- **别名**

    关于指令的别名，使用指令的别名也可以调用指令。

    比如 `help` 指令有 `帮助` 别名，所以  使用 `/帮助` 和使用 `/help` 并没有区别。

---

## XME-Deon-Bot / XME-Bot / bot

用于代表本机器人的任意实例。例如正在某个 qq 群运行的 XME-Bot 机器人。

## 指令

以 **特定符号** 开头的特殊语句，符合某种格式的用户消息。指令消息会被 XME-Bot 解析并且执行对应的程序。

例如：

``` Text
/weather 扬州 3
```

XME-Bot 在接收到上面的消息后会返回例如：

``` Text
@发送者 我看看这里的天气~ owo
======※今日天气: 扬州市※======
10月14日 星期一
阴
温度: 19~27℃
日间: 北风 1-3 级	夜间: 北风 1-3 级
查询时间: 2024-10-14 01:31:49
========================
未来 3 天有 1 天有雨, 最高温度 27℃, 最低温度 18℃
数据来自于高德开放平台~
```

不是所有类似指令的消息都会被 XME-Bot 执行，或者说 **只有 XME-Bot 设置的指令才可能会被解析执行。**

## 指令参数 / 参数

跟在指令语句后面以某种格式分隔的内容被称作 **参数**。

例如：

``` Text
/weather 扬州 3
```

在这个指令里，`扬州` 和 `3` 是 `weather` 指令的参数，`weather` 指令的参数以 **空格** 分隔。

> 关于参数标记：
>
> 参数在帮助文档里会以特定的括号括起来，但是用户在输入指令时后的参数不需要加任何括号（除非你希望参数本身就有括号）。

### 可选参数

代表在指令中不填写也不会报错的参数。例如之前 `weather` 指令参数中的 `3`。

可选参数在本文档的参数提示里会以 `<>` 括起来。

例如：

``` Text
/help <指令名>
```

其中 `指令名` 是可选参数的内容，如果不输入指令名的参数，只输入 `/help`，并不会阻止 XME-Bot 正常运行。

### 必要参数

代表在指令中必须填写，否则会出错的参数。

必要参数在本文档的参数提示里会以 `()` 括起来。

例如：

``` Text
/kklp (@一位群友)
```

其中 `@一位群友` 是必要参数的内容，如果参数为空，XME-Bot 会提醒用户输入参数，否则不可使用这个指令。

### 类 Shell 参数

代表在指令中类似 Shell 指令参数语法的参数，比如 Linux 系统强制递归删除文件命令 `rm -rf` 中的 `-rf` 会被解析为 `-r` 和 `-f` 两个参数。

类 Shell 参数在本文档的参数提示里会以 `[]` 括起来。

例如，这是一个简单 `rm` 指令的帮助：

``` Text
指令 rm
作用：显示帮助，或某个指令的帮助
用法：
- rm [OPTIONS] (文件名)
OPTIONS:
    -h, --help  显示帮助
    -f, --force 强制删除内容
权限/可用范围：无
别名：remove, 移除
```

其中 `OPTIONS` 是类 Shell 参数的内容，用户可以输入 `/rm -h` 或 `rm -f` 之类的方法调用 `OPTIONS` 里说明的参数。

## 权限

由于 XME-Bot 基于 Nonebot1 制作，使用的也是 [Nonebot1 的权限系统](https://v1.nonebot.dev/api/permission.html)。

权限是用于限制用户在调用指令时的条件是否符合，例如**是否是管理员**、**是否在私聊**等。

### SUPERUSER

SUPERUSER 指 XME-Bot 配置中设置的用户 QQ 号白名单。默认为 `1795886524` 也就是 Xme-Bot 的开发者[九镹](https://www.xzadudu179.top/)

## 角色

角色是 XME-Bot 里用于决定 bot 输出的文字内容的设置，通过不同的角色文件决定，功能有点类似语言模块？

对 bot 使用 `whoru` 指令就可以看到 bot 当前的角色信息。